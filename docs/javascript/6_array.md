---
title: 陣列
sidebar_position: 6
---

串列可以想像成一排置物櫃，每個格子都有一個編號，並且可以存放不同的資料。  
這些格子的編號從 `0` 開始，也就是第一個格子的編號是 `0`，第二個是 `1`，以此類推。

#### 為什麼需要陣列？

假設老師要紀錄班上 40 位學生的成績，並計算平均、最高、最低分數等。  
在不使用串列的情況下，必須創建 40 個變數來紀錄每位學生的成績。

```javascript
let a = 90;
let b = 85;
let c = 98;
let d = 76;
let e = 83;
// ...
```

但如果需要紀錄全校 2000 位學生的成績，創建 2000 個變數顯然不現實。  
這時候就可以使用串列，只需要一個串列變數，就能夠輕鬆管理大量數據。

```javascript
let scores = [90, 85, 98, 76, 83, ...];
```

### 如何創建陣列

陣列用一對中括號 `[]` 包住，裡面存放的資料用逗號 `,` 隔開。

```javascript
let fruits = ['橘子', '蘋果', '香蕉', '芭樂', '草莓'];
```

### 讀取陣列

陣列的每個元素可以通過編號（即索引）來讀取。注意，索引從 `0` 開始。

```javascript
console.log(fruits[0]);  // 橘子
console.log(fruits[1]);  // 蘋果
console.log(fruits[4]);  // 草莓
console.log(fruits[5]);  // 超出範圍，會引發錯誤
```

### 修改陣列

可以直接通過編號來修改陣列中的元素。

```javascript
fruits[2] = '芭樂';
console.log(fruits);    // ['橘子', '蘋果', '芭樂', '芭樂', '草莓']
console.log(fruits[2]); // 芭樂
```

### 新增資料

可以使用 `push` 方法將資料新增到陣列的最後，或使用 `splice` 方法將資料插入到指定的位置。

```javascript
// 新增資料至最後
fruits.push('鳳梨');
fruits.push('芒果');
console.log(fruits);  // ['橘子', '蘋果', '芭樂', '芭樂', '草莓', '鳳梨', '芒果']

// 插入至指定位置（例如，插入到索引 1 的位置）
fruits.splice(1, 0, '葡萄');
console.log(fruits);  // ['橘子', '葡萄', '蘋果', '芭樂', '芭樂', '草莓', '鳳梨', '芒果']
```

### 移除資料

可以使用 `pop` 方法移除陣列中的資料。若不指定編號，將移除最後一個元素，還可以使用 `splice` 方法移除指定的元素。

```javascript
fruits = ['橘子', '蘋果', '芭樂', '芭樂', '草莓'];
// 移除最後的元素
fruits.pop();     // 移除 - 草莓
// 移除編號 1 的元素 - 蘋果
fruits.splice(1, 1);    // 移除
console.log(fruits);    // ['橘子', '芭樂', '芭樂']

// 移除指定的元素（例如，移除 '芭樂'）
let index = fruits.indexOf('芭樂');
if (index > -1) {
    fruits.splice(index, 1);
}
console.log(fruits);    // ['橘子', '芭樂']
```

### 計算陣列長度

可以使用 `length` 屬性來計算陣列中目前包含的資料數量。

```javascript
fruits = ['橘子', '蘋果', '芭樂', '芭樂', '草莓'];
console.log(fruits.length);  // 5
```

### 串接和複製

使用 `concat` 方法可以將兩個陣列串接在一起；使用 `slice` 方法則可以複製陣列內容。

```javascript
let a = ['A', 'B', 'C'];
let b = ['C', 'D', 'E', 'F'];

console.log(a.concat(b));      // ['A', 'B', 'C', 'C', 'D', 'E', 'F']
console.log(a.slice());         // ['A', 'B', 'C']
console.log(a.concat(a).concat(b));  // ['A', 'B', 'C', 'A', 'B', 'C', 'C', 'D', 'E', 'F']
```

這些操作可以讓我們靈活管理和使用大量資料，使程式更加簡潔、高效。

### 挑戰題 - 找出最陡峭的山頂

給定一個整數串列 `terrain`，每個數字代表地形的高度。
請找出「最陡峭的山頂」的索引位置。山頂的定義如下：

- 高度比左右兩側的高度都高，即「山頂」
- 左右兩側的「斜度」之和最大
- 斜度的計算方式為山頂高度與左右兩側高- 度的絕對差之和，
即 (山頂高度 - 左側高度) + (山頂高度 - 右側高度)
- 串列最前和最後因為沒有左右兩邊都有相鄰資料，因此不列入判斷

```javascript
let terrain = [
    91, 18, 69, 29, 15, 99, 74, 44, 13, 83,
    65, 92, 97, 62, 17, 12, 16, 65, 82, 27,
    29, 16, 54, 71, 30, 66, 70, 20, 86, 40
]
```